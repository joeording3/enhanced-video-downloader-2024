# Enhanced Video Downloader server configuration (.env)
# Lines starting with '#' are comments. Values are read at process start.

# Hostname/IP for the server to bind
SERVER_HOST='127.0.0.1'
# Port the Flask server listens on (1024-65535)
SERVER_PORT='9090'
# Default starting port for tests
TEST_SERVER_PORT='5050'
# Absolute path for downloads (must be writable)
DOWNLOAD_DIR='/Users/josephording/Downloads/untitled folder/'
# Enable server debug features for debug endpoints (true/false)
DEBUG_MODE='True'
# Enable download history persistence (true/false)
ENABLE_HISTORY='True'
# Application log level: debug | info | warning | error | critical
LOG_LEVEL='info'
# Console log verbosity: debug | info | warning | error | critical
CONSOLE_LOG_LEVEL='warning'
# Permit playlist downloads (true/false)
ALLOW_PLAYLISTS='True'
# Explicit server log file path used when managing logs
LOG_PATH='/Users/josephording/myscripts/Enhanced Video Downloader/server_output.log'
# Override path to history JSON (defaults to <DOWNLOAD_DIR>/history.json)
HISTORY_FILE=''
# CSV allowlist of domains (empty = allow all)
ALLOWED_DOMAINS=''
# Interval for scanning incomplete downloads (>=1000 ms)
SCAN_INTERVAL_MS='2000'
# Environment: development | testing | production
ENVIRONMENT='development'
# Resume incomplete/partial downloads automatically on server startup (true/false)
RESUME_ON_START='true'

# CLI runtime defaults (used when flags are not provided):
# Run with Gunicorn when true (production-style)
EVD_GUNICORN='false'
# Number of Gunicorn workers (integer >=1)
EVD_WORKERS='1'
# Enable verbose console logging
EVD_VERBOSE='false'

# Override yt-dlp concurrent fragment setting (int)
YTDLP_CONCURRENT_FRAGMENTS='4'
# YT_DLP_OPTIONS via env is not supported; configure yt-dlp options via the /api/config endpoint
# After changes, restart the server to apply

# Managed restart command used by /api/restart/managed
EVD_RESTART_COMMAND="videodownloader-server restart"

# Optional site credentials
HYPNOTUBE_USERNAME='sissynikkijo'
HYPNOTUBE_PASSWORD='iluvbbc'

# Advanced/optional knobs used by some commands and APIs
# Legacy name still read by some endpoints; will mirror LOG_PATH if unset
LOG_FILE='/Users/josephording/myscripts/Enhanced Video Downloader/server_output.log'
# Override lock file location for server PID/port
LOCK_FILE=''
# Path to caddy binary for HTTPS proxy management
EVD_CADDY_BIN='caddy'
# Name of systemd user service for restart integration
EVD_SYSTEMD_SERVICE='evd.service'
# Name of supervisor program for restart integration
EVD_SUPERVISOR_PROGRAM='evd'
# launchctl label for restart integration on macOS
EVD_LAUNCHCTL_LABEL='com.user.evd'
# API rate limit controls
RATE_LIMIT_WINDOW_SECONDS='60'
MAX_REQUESTS_PER_WINDOW='10'
# Inline yt-dlp options (discouraged; prefer configuring via /api/config)
YT_DLP_OPTIONS='{\'format\': \'bestvideo+bestaudio/best\', \'merge_output_format\': \'mp4\', \'concurrent_fragments\': 4, \'cookiesfrombrowser\': [\'chrome\'], \'continuedl\': True, \'fragment_retries\': 10}'
# Clear queued items on server stop/restart (true/false)
CLEAR_QUEUE_ON_STOP='false'
# Maximum number of concurrent downloads (integer >= 1)
MAX_CONCURRENT_DOWNLOADS='10'
